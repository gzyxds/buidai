---
title: Cloudflare Pages
description: 将您的 Content 应用部署到 Cloudflare Pages
---

::card
快速设置

1. 使用 `nuxi build --preset=cloudflare_pages` 构建您的应用
2. 在 Cloudflare 仪表板中创建并连接一个 D1 数据库到您的项目，使用绑定名称 `DB`
3. 部署/重新部署您的应用
::

:hr

Nuxt Content 模块内置了与 [Cloudflare Pages](https://pages.cloudflare.com) 的集成，用于部署您的内容。

该模块将自动检测构建目标并为 Cloudflare Pages 准备必要的配置。

您可以使用 `nuxi build` 命令的 `--preset=cloudflare_pages` 选项，或者使用 `nuxt.config.ts` 来配置预设。

```ts [nuxt.config.ts]
export default defineNuxtConfig({
  nitro: {
    preset: 'cloudflare_pages',
  },
});
```

## D1 数据库

连接到应用的 D1 数据库是 Nuxt Content 模块工作的**必需**条件。默认情况下，模块使用绑定名称 **`DB`**。您可以通过在 `nuxt.config.ts` 中提供自己的配置来覆盖[数据库配置](/docs/getting-started/configuration#d1)。

创建新的 Cloudflare Pages 项目后，您需要创建一个新的 D1 数据库并将其连接到项目。确保使用与模块相同的绑定名称。

### 本地预览

虽然 `nuxi dev` 和 `nuxi build` 不需要任何额外配置，但使用 `nuxi preview` 在本地测试构建需要配置 Cloudflare 的 Wrangler，为 Nuxt Content 提供一个临时的本地数据库进行绑定。这可以通过 `wrangler.jsonc` 或 `wrangler.toml` 文件来完成。因为 Wrangler 创建了一个本地数据库，`database_name` 和 `database_id` 可以安全地（但不需要）与生产环境中的值匹配。

```jsonc [wrangler.jsonc]
{
  "d1_databases": [
    {
      "binding": "DB",
      "database_name": "example-db",
      "database_id": "example-db-id"
    }
  ]
}
```

就这样 :tada:

相关资源：

- [Nuxt 部署文档](https://nuxt.com/deploy/cloudflare)
- [Cloudflare D1 文档](https://developers.cloudflare.com/d1/)
- [创建和绑定 D1 数据库](https://developers.cloudflare.com/d1/get-started/)
- [Cloudflare Pages 文档](https://developers.cloudflare.com/pages/)