---
title: I18n æ¨¡å—
description: å­¦ä¹ å¦‚ä½•ä½¿ç”¨ Nuxt Content ä¸ @nuxtjs/i18n æ¨¡å—åˆ›å»ºå¤šè¯­è¨€ç½‘ç«™ã€‚
---

Nuxt Content ä¸ [`@nuxtjs/i18n`](https://i18n.nuxtjs.org/) é›†æˆï¼Œç”¨äºåˆ›å»ºå¤šè¯­è¨€ç½‘ç«™ã€‚å½“ä¸¤ä¸ªæ¨¡å—ä¸€èµ·é…ç½®æ—¶ï¼Œæ‚¨å¯ä»¥æŒ‰è¯­è¨€ç»„ç»‡å†…å®¹ï¼Œå¹¶æ ¹æ®ç”¨æˆ·çš„è¯­è¨€ç¯å¢ƒè‡ªåŠ¨æä¾›æ­£ç¡®çš„å†…å®¹ã€‚

## è®¾ç½®

::prose-steps
### å®‰è£…æ‰€éœ€æ¨¡å—

```bash [terminal]
npm install @nuxtjs/i18n
```

### é…ç½®æ‚¨çš„ `nuxt.config.ts`

```ts [nuxt.config.ts]
export default defineNuxtConfig({
  modules: ['@nuxt/content', '@nuxtjs/i18n'],
  i18n: {
    locales: [
      { code: 'en', name: 'English', language: 'en-US', dir: 'ltr' },
      { code: 'fr', name: 'French', language: 'fr-FR' },
      { code: 'fa', name: 'Farsi', language: 'fa-IR', dir: 'rtl' },
    ],
    strategy: 'prefix_except_default',
    defaultLocale: 'en',
  }
})
```

### ä¸ºæ¯ç§è¯­è¨€å®šä¹‰é›†åˆ

åœ¨æ‚¨çš„ `content.config.ts` ä¸­ä¸ºæ¯ç§è¯­è¨€åˆ›å»ºå•ç‹¬çš„é›†åˆï¼š

```ts [content.config.ts]
const commonSchema = ...;

export default defineContentConfig({
  collections: {
    // è‹±æ–‡å†…å®¹é›†åˆ
    content_en: defineCollection({
      type: 'page',
      source: {
        include: 'en/**',
        prefix: '',
      },
      schema: commonSchema,
    }),
    // æ³•æ–‡å†…å®¹é›†åˆ
    content_fr: defineCollection({
      type: 'page',
      source: {
        include: 'fr/**',
        prefix: '',
      },
      schema: commonSchema,
    }),
    // æ³¢æ–¯æ–‡å†…å®¹é›†åˆ
    content_fa: defineCollection({
      type: 'page',
      source: {
        include: 'fa/**',
        prefix: '',
      },
      schema: commonSchema,
    }),
  },
})
```

### åˆ›å»ºåŠ¨æ€é¡µé¢

åˆ›å»ºä¸€ä¸ªåŸºäºå½“å‰è¯­è¨€ç¯å¢ƒè·å–å†…å®¹çš„å…¨æ•è·é¡µé¢ï¼š

```vue [pages/\[...slug\].vue]
<script setup lang="ts">
import { withLeadingSlash } from 'ufo'
import type { Collections } from '@nuxt/content'

const route = useRoute()
const { locale } = useI18n()
const slug = computed(() => withLeadingSlash(String(route.params.slug)))

const { data: page } = await useAsyncData('page-' + slug.value, async () => {
  // æ ¹æ®å½“å‰è¯­è¨€ç¯å¢ƒæ„å»ºé›†åˆåç§°
  const collection = ('content_' + locale.value) as keyof Collections
  const content = await queryCollection(collection).path(slug.value).first()

  // å¯é€‰ï¼šå¦‚æœå†…å®¹ç¼ºå¤±ï¼Œå›é€€åˆ°é»˜è®¤è¯­è¨€
  if (!content && locale.value !== 'en') {
    return await queryCollection('content_en').path(slug.value).first()
  }

  return content
}, {
  watch: [locale], // è¯­è¨€ç¯å¢ƒæ›´æ”¹æ—¶é‡æ–°è·å–
})
</script>

<template>
  <ContentRenderer v-if="page" :value="page" />
  <div v-else>
    <h1>é¡µé¢æœªæ‰¾åˆ°</h1>
    <p>æ­¤é¡µé¢åœ¨ {{ locale }} è¯­è¨€ä¸­ä¸å­˜åœ¨ã€‚</p>
  </div>
</template>
```
::

å°±è¿™æ ·ï¼ğŸš€ æ‚¨çš„å¤šè¯­è¨€å†…å®¹ç½‘ç«™å·²å‡†å¤‡å°±ç»ªã€‚

## å†…å®¹ç»“æ„

åœ¨ç‰¹å®šè¯­è¨€çš„æ–‡ä»¶å¤¹ä¸­ç»„ç»‡æ‚¨çš„å†…å®¹æ–‡ä»¶ï¼Œä»¥åŒ¹é…æ‚¨çš„é›†åˆï¼š

```text
content/
  en/
    index.md
    about.md
    blog/
      post-1.md
  fr/
    index.md
    about.md
    blog/
      post-1.md
  fa/
    index.md
    about.md
```

æ¯ä¸ªè¯­è¨€æ–‡ä»¶å¤¹åº”åŒ…å«ç›¸åŒçš„ç»“æ„ï¼Œä»¥ç¡®ä¿å„è¯­è¨€ç¯å¢ƒä¹‹é—´çš„å†…å®¹å¯¹ç­‰ã€‚

## å›é€€ç­–ç•¥

æ‚¨å¯ä»¥å®ç°å›é€€ç­–ç•¥ï¼Œåœ¨å½“å‰è¯­è¨€ç¯å¢ƒä¸­å†…å®¹ç¼ºå¤±æ—¶æ˜¾ç¤ºé»˜è®¤è¯­è¨€ç¯å¢ƒçš„å†…å®¹ï¼š

```ts [pages/\[...slug\].vue]
const { data: page } = await useAsyncData('page-' + slug.value, async () => {
  const collection = ('content_' + locale.value) as keyof Collections
  let content = await queryCollection(collection).path(slug.value).first()

  // å¦‚æœå†…å®¹ç¼ºå¤±ï¼Œå›é€€åˆ°é»˜è®¤è¯­è¨€
  if (!content && locale.value !== 'en') {
    content = await queryCollection('content_en').path(slug.value).first()
  }

  return content
})
```

::prose-warning
ç¡®ä¿ä¼˜é›…åœ°å¤„ç†ç¼ºå¤±å†…å®¹ï¼Œå¹¶åœ¨ç”¨æˆ·é¦–é€‰è¯­è¨€ä¸­å†…å®¹ä¸å¯ç”¨æ—¶æä¾›æ¸…æ™°çš„åé¦ˆã€‚
::

## å®Œæ•´ç¤ºä¾‹

æ‚¨å¯ä»¥æŸ¥çœ‹ä¸€ä¸ªå®Œæ•´çš„å·¥ä½œç¤ºä¾‹ï¼š

- **æºä»£ç **: <https://github.com/nuxt/content/tree/main/examples/i18n>
- **åœ¨çº¿æ¼”ç¤º**: <https://content3-i18n.nuxt.dev/>
