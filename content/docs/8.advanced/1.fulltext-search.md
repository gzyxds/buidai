---
title: 全文搜索
description: 使用 Nuxt Content 在您的网站中实现全文搜索
---

Content 模块提供了一个实用的工具 [`queryCollectionSearchSections`](/docs/utils/query-collection-search-sections)，用于将内容文件分解为可搜索的部分。这对于在您的网站中实现全文搜索非常有用。您可以将此工具的结果与 [Nuxt UI Content Search](https://ui.nuxt.com/pro/components/content-search) 或其他搜索库（如 [Fuse.js](https://fusejs.io/)、[minisearch](https://lucaong.github.io/minisearch) 等）结合使用。

## Nuxt UI

Nuxt UI 提供了一个即用型的全文搜索组件。您可以通过将 `queryCollectionSearchSections` 的结果传递给组件的 `files` 属性来使用它。

阅读更多关于 [Nuxt UI Content Search](https://ui.nuxt.com/pro/components/content-search) 的信息。

::code-group
```vue [UContentSearchExample.vue]
<script setup lang="ts">
const { data: navigation } = await useAsyncData('navigation', () => queryCollectionNavigation('docs'))
const { data: files } = await useAsyncData('search', () => queryCollectionSearchSections('docs'))

const searchTerm = ref('')
</script>

<template>
  <UContentSearch
    v-model:search-term="searchTerm"
    :files="files"
    :navigation="navigation"
    :fuse="{ resultLimit: 42 }"
  />
</template>
```

  :::code-preview{label="预览" icon="i-lucide-eye"}
    ::::example-fulltext-content-search
    ::::
  :::
::

## MiniSearch 示例

阅读更多关于 [minisearch](https://lucaong.github.io/minisearch) 的信息。

::code-group
```vue [MiniSearchExample.vue]
<script setup lang="ts">
import MiniSearch from 'minisearch'

const query = ref('')
const { data } = await useAsyncData('search', () => queryCollectionSearchSections('docs'))

const miniSearch = new MiniSearch({
  fields: ['title', 'content'],
  storeFields: ['title', 'content'],
  searchOptions: {
    prefix: true,
    fuzzy: 0.2,
  },
})

// 将数据添加到 MiniSearch 实例
miniSearch.addAll(toValue(data.value))
const result = computed(() => miniSearch.search(toValue(query)))
</script>

<template>
  <UContainer class="p-4">
    <UCard>
      <UInput v-model="query" placeholder="搜索..." />
      <ul>
        <li v-for="link of result" :key="link.id" class="mt-2">
          <NuxtLink :to="link.id">{{ link.title }}</NuxtLink>
          <p class="text-gray-500 text-xs">{{ link.content }}</p>
        </li>
      </ul>
    </UCard>
  </UContainer>
</template>
```

  :::code-preview{label="预览" icon="i-lucide-eye"}
    ::::example-fulltext-mini-search
    ::::
  :::
::

## Fuse.js 示例

阅读更多关于 [Fuse.js](https://fusejs.io) 的信息。

::code-group
```vue [FusejsExample.vue]
<script setup lang="ts">
import Fuse from 'fuse.js'

const query = ref('')
const { data } = await useAsyncData('search-data', () => queryCollectionSearchSections('docs'))

const fuse = new Fuse(data.value, {
  keys: ['title', 'description']
})

const result = computed(() => fuse.search(toValue(query)).slice(0, 10))
</script>

<template>
  <UContainer class="p-4">
    <UCard>
      <UInput v-model="query" placeholder="搜索..." class="w-full" />
      <ul>
        <li v-for="link of result" :key="link.item.id" class="mt-2">
          <UButton variant="ghost" class="w-full" :to="link.item.id">
            {{ link.item.title }}
            <span class="text-gray-500 text-xs">
              {{ link.item.content?.slice(0, 100) }}...
            </span>
          </UButton>
        </li>
      </ul>
    </UCard>
  </UContainer>
</template>
```

  :::code-preview{label="预览" icon="i-lucide-eye"}
    ::::example-fulltext-fusejs
    ::::
  :::
::
